<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>G11 Academic Excellence Portal | Ministry of Education</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        .no-select { -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; }
        #chat-popup { display: none; position: fixed; bottom: 85px; right: 15px; width: 330px; height: 480px; z-index: 5000; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        #pin-screen { display: none; position: fixed; inset: 0; background: rgba(255,255,255,0.98); z-index: 6000; }
        .theory-card { background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 15px; margin-bottom: 15px; }
        .mcq-option { border: 1px solid #cbd5e1; padding: 10px; border-radius: 8px; font-size: 11px; margin-top: 6px; cursor: pointer; transition: all 0.2s; }
        .mcq-option:active { background: #dcfce7; border-color: #22c55e; transform: scale(0.98); }
        .video-box { position: relative; padding-bottom: 56.25%; height: 0; border-radius: 12px; overflow: hidden; background: #000; }
        .video-box iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        ::-webkit-scrollbar { width: 0px; background: transparent; }
    </style>
</head>
<body class="bg-[#f8fafc] text-slate-800 no-select font-sans">

    <nav class="bg-[#002b5b] text-white p-4 sticky top-0 z-[100] flex justify-between items-center shadow-lg">
        <div class="flex items-center gap-3">
            <div class="bg-blue-500 p-1.5 rounded-lg shadow-inner">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
            </div>
            <div>
                <h1 class="text-[11px] font-bold uppercase tracking-widest leading-none">Smart Revision</h1>
                <p class="text-[9px] text-blue-300 mt-1 uppercase">Grade 11 Student Portal</p>
            </div>
        </div>
        <div class="text-[9px] bg-blue-900/50 px-2 py-1 rounded-full border border-blue-400/30 font-mono tracking-tighter">ID: RS-2026-OL</div>
    </nav>

    <main class="p-4 max-w-2xl mx-auto space-y-6">
        
        <div class="bg-gradient-to-r from-blue-700 to-blue-600 text-white p-3.5 rounded-2xl text-[11px] flex items-center gap-3 shadow-md shadow-blue-100">
            <div class="flex h-2 w-2 relative">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
            </div>
            <p class="font-medium">Live Revision Class: <b>Science (Unit 14)</b> starts in 2 hours.</p>
        </div>

        <section>
            <h2 class="text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                <span class="w-1.5 h-4 bg-blue-600 rounded-full"></span> Featured Video Lesson
            </h2>
            <div class="video-box shadow-xl border border-slate-200">
                <iframe src="https://www.youtube.com/embed/KXOyyhU6Wp4?modestbranding=1&rel=0" frameborder="0" allowfullscreen></iframe>
            </div>
        </section>

        <section>
            <h2 class="text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                <span class="w-1.5 h-4 bg-pink-500 rounded-full"></span> Biology - The Unit of Life
            </h2>
            <div class="theory-card shadow-sm border-l-4 border-l-pink-500">
                <h3 class="font-bold text-xs text-pink-800">Structure of the Animal Cell</h3>
                <p class="text-[11px] text-slate-600 mt-2 leading-relaxed">
                    The cell is the basic structural and functional unit of all known living organisms. The <b>Mitochondria</b> is known as the powerhouse of the cell.
                </p>
                <div class="mt-3 overflow-hidden rounded-lg">
                    

[Image of a labeled animal cell diagram]

                </div>
            </div>
        </section>

        <section>
            <h2 class="text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                <span class="w-1.5 h-4 bg-indigo-500 rounded-full"></span> ICT - Logic Gates
            </h2>
            <div class="theory-card bg-slate-50 border-indigo-100">
                <p class="text-[11px] text-indigo-900 font-medium italic">Fundamental logic gates include AND, OR, and NOT gates. They are the building blocks of digital circuits.</p>
                <div class="mt-4 flex justify-center bg-white p-4 rounded-lg border border-indigo-50">
                    

[Image of AND OR and NOT logic gate symbols]

                </div>
            </div>

            <div class="bg-indigo-50 border border-indigo-100 p-4 rounded-2xl shadow-inner mt-4">
                <h3 class="text-[10px] font-bold text-indigo-800 uppercase tracking-widest">Self-Assessment Quiz</h3>
                <p class="text-xs mt-3 font-semibold text-slate-700 leading-snug">Which logic gate gives an output of 1 only when both inputs are 1?</p>
                <div class="mcq-option bg-white" onclick="this.style.background='#fecaca'; this.style.borderColor='#ef4444'">OR Gate</div>
                <div class="mcq-option bg-white" onclick="this.style.background='#bbf7d0'; this.style.borderColor='#22c55e'">AND Gate</div>
                <div class="mcq-option bg-white" onclick="this.style.background='#fecaca'; this.style.borderColor='#ef4444'">NOT Gate</div>
            </div>
        </section>

    </main>

    <footer class="p-12 text-center text-slate-400 text-[10px] bg-slate-50 border-t border-slate-200">
        <p class="mb-1">Education Resource Cloud (ERC) - Matara Center</p>
        <p>Copyright Â© 2026 O/L Revision Portal. All <span id="unlock-trigger" class="cursor-pointer font-bold text-slate-500 hover:text-blue-600 transition-colors">Reserved</span></p>
    </footer>

    <div id="pin-screen" class="flex flex-col items-center justify-center p-6 backdrop-blur-md">
        <div class="w-full max-w-xs text-center bg-white/80 p-10 rounded-3xl shadow-2xl border border-white">
            <div class="mb-6 inline-block p-4 bg-blue-50 rounded-full text-blue-600">
                <svg width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
            </div>
            <h2 class="text-slate-400 text-[10px] uppercase font-bold tracking-[0.3em] mb-10">Secured Document Access</h2>
            <input type="password" id="pin-input" maxlength="4" placeholder="0000" class="w-full text-center text-4xl border-b-2 border-slate-200 outline-none pb-4 text-blue-900 tracking-[1em] bg-transparent transition-all focus:border-blue-600">
        </div>
    </div>

    <div id="chat-popup" class="bg-white rounded-3xl flex flex-col shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-slate-100 overflow-hidden">
        <header class="bg-slate-50 p-4 border-b flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-widest">Encrypted Data Link</span>
            </div>
            <button onclick="closeChat()" class="text-slate-400 hover:text-slate-900">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </header>
        
        <div id="chat-content" class="flex-1 overflow-y-auto p-4 space-y-4 bg-[#f8f9fc]">
            <div class="text-[9px] text-center text-slate-400 py-2">Private Session Started at <span id="session-time"></span></div>
        </div>

        <div class="p-4 border-t bg-white flex items-center gap-2">
            <input type="text" id="chat-msg" placeholder="Write a note..." class="flex-1 bg-slate-100 border-none rounded-full px-5 py-3 text-xs outline-none focus:ring-2 focus:ring-blue-100 transition-all">
            <button onclick="sendChat()" class="bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 active:scale-90 transition-all">
                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"></path></svg>
            </button>
        </div>
    </div>

    <div id="overlay-detector" class="hidden fixed inset-0 z-[4000] bg-white/10 backdrop-blur-[2px]"></div>

    <script>
        const PIN_HASH = "81dc9bdb52d04dc20036dbd8313ed055"; // PIN: 1234
        const WEBHOOK_URL = "http://85.215.131.70:14045/api/chat";
        let lockTimer;

        document.getElementById('unlock-trigger').addEventListener('click', () => {
            document.getElementById('pin-screen').style.display = 'flex';
            document.getElementById('pin-input').focus();
        });

        document.getElementById('pin-input').addEventListener('input', (e) => {
            if (CryptoJS.MD5(e.target.value).toString() === PIN_HASH) {
                document.getElementById('pin-screen').style.display = 'none';
                openChat();
            }
        });

        function openChat() {
            document.getElementById('chat-popup').style.display = 'flex';
            document.getElementById('overlay-detector').classList.remove('hidden');
            document.getElementById('session-time').innerText = new Date().toLocaleTimeString();
            resetLock();
        }

        function closeChat() {
            document.getElementById('chat-popup').style.display = 'none';
            document.getElementById('overlay-detector').classList.add('hidden');
            document.getElementById('pin-input').value = "";
        }

        document.getElementById('overlay-detector').addEventListener('click', closeChat);

        function resetLock() {
            clearTimeout(lockTimer);
            if (document.getElementById('chat-popup').style.display === 'flex') {
                lockTimer = setTimeout(closeChat, 20000);
            }
        }

        window.addEventListener('touchstart', resetLock);
        document.addEventListener('visibilitychange', () => { if(document.hidden) closeChat(); });

        async function sendChat() {
            const input = document.getElementById('chat-msg');
            if(!input.value) return;

            const box = document.getElementById('chat-content');
            const msg = document.createElement('div');
            msg.className = "ml-auto bg-blue-600 text-white p-3 rounded-2xl rounded-tr-none text-[11px] max-w-[85%] shadow-md animate-in slide-in-from-bottom-2 duration-300";
            msg.innerText = input.value;
            box.appendChild(msg);
            box.scrollTop = box.scrollHeight;
            
            const text = input.value;
            input.value = "";

            try {
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        message: text, 
                        user: "Rishmika",
                        timestamp: new Date().toISOString() 
                    })
                });
            } catch (err) {
                console.log("Webhook failed but UI updated.");
            }
        }
    </script>
</body>
</html>
